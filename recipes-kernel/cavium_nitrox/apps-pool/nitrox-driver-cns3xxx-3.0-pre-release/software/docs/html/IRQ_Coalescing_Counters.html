<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Nitrox Software API: IRQ-Coalescing and Data Statistics Counters</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1><a class="anchor" name="IRQ_Coalescing_Counters">IRQ-Coalescing and Data Statistics Counters</a></h1><h2><a class="anchor" name="contents">
Contents</a></h2>
<ul>
<li><a class="el" href="IRQ_Coalescing_Counters.html#Interrupt_coalesing">1. What is Interrupt Coalescing?</a></li><li><a class="el" href="IRQ_Coalescing_Counters.html#default_value">2. How to change the default values of Interrupt Counter and Timer?</a></li><li><a class="el" href="IRQ_Coalescing_Counters.html#enable_interrupt_coalescing">3. How to enable Interrupt Coalescing?</a></li><li><a class="el" href="IRQ_Coalescing_Counters.html#run_time_value">4. How to see the run time values of Interrupt Counter and Timer?</a></li><li><a class="el" href="IRQ_Coalescing_Counters.html#stat_counter">5. What are Data Statistics Counters?</a></li><li><a class="el" href="IRQ_Coalescing_Counters.html#enable_data_counter">6. How to enable Data Statistics Counters?</a></li><li><a class="el" href="IRQ_Coalescing_Counters.html#view_data_counter">7. How to view Data Statistics Counters?</a></li><li><a class="el" href="IRQ_Coalescing_Counters.html#reset_data_counter">8. How to reset Data Statistics Counters?</a></li></ul>
<h2><a class="anchor" name="Interrupt_coalesing">
1. What is Interrupt Coalescing?</a></h2>
Interrupt Coalescing is the feature of hardware to interrupt only after preset number of completed commands or preset timer value or whichever is earlier. <br>
<br>
<h2><a class="anchor" name="default_value">
2. How to change the default values of Interrupt Counter and Timer?</a></h2>
Interrupt Counter and Timer value can be set by defining the value of following identifiers in ./cavium/software/driver/osi/interrupt.h<p>
GENINT_COUNT_THOLD (Interrupt Counter Threshold) default value is 10<p>
GENINT_COUNT_INT_TIME (Timer Threshold) default values is 400000000. (Note: For Nitrox PX, timer value is in clock cycles. 400000000 clock cycles = 1 second) <br>
<br>
<h2><a class="anchor" name="enable_interrupt_coalescing">
3. How to enable Interrupt Coalescing?</a></h2>
This feature can be enabled by defining INTERRUPT_COALESCING flag cavium/software/driver/osi/cavium.h file. <br>
<br>
<h2><a class="anchor" name="run_time_value">
4. How to see the run time values of Interrupt Counter and Timer?</a></h2>
These values can be viewed at run time through proc interface by reading the file -&gt;/proc/cavium/regs The following entries in the file indicate the respective dynamic values:<p>
Interrupt Counter Threshold Register Interrupt Timer Threshold Register Interrupt Counter Register Interrupt Timer Register<p>
Note: If these entries are not found, then Interrupt Coalescing is not enabled in the loaded Nitrox driver. <br>
<br>
<h2><a class="anchor" name="stat_counter">
5. What are Data Statistics Counters?</a></h2>
These are various data statistics of Incoming Requests to the Nitrox. Currenty SSL Record Processing, IPSEC Inbound/Outbound Processing, Genral Crypto Processing, HMAC requests are supported. Data statistics are: Packet Requests, Packet Aborts, Bytes In, Bytes Out. <br>
<br>
<h2><a class="anchor" name="enable_data_counter">
6. How to enable Data Statistics Counters?</a></h2>
This feature can be enabled and disabled through Makefile.Linux of Nitrox driver by setting the flag COUNTER to the value as indicated. <br>
<br>
<h2><a class="anchor" name="view_data_counter">
7. How to view Data Statistics Counters?</a></h2>
Data counters can be viewed through proc interface by reading the file -&gt;/proc/cavium/data_stats. <br>
<br>
<h2><a class="anchor" name="reset_data_counter">
8. How to reset Data Statistics Counters?</a></h2>
Data counters can be reset by writing 1 to /proc/cavium/data_stats_reset. <br>
<br>
 <hr size="1"><address style="text-align: right;"><small>Generated on Thu Oct 22 16:08:35 2009 for Nitrox Software API by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
